<html>
    <title>height</title>
    <head>
        <style type="text/css">
            html { height: 100% }
            body { height: 100%; margin: 0; padding: 0 }
        </style>
        <script type="text/javascript" 
            src="https://maps.googleapis.com/maps/api/js?sensor=false">
        </script>
        <script type="text/javascript">
            function initialize() {
                var mapOptions = {
                    center: new google.maps.LatLng (-34.397, 150.644),
                    zoom: 8,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var map = new google.maps.Map(document.getElementById('map_canvas'),
                    mapOptions),
            }
        </script> 
    </head>
    <body onload="initialize()">
        <div id="map_canvas" style="height:100%"></div>
    </body>
</html>





































# <html lang="en">
#     <head>
#     <meta charset="utf-8" />
#     <title> Dashboard Admin - Rocket Elevators </title>
#         <style type="text/css">
#             body { font: normal 14px Verdan; }
#             h1 { font-size: 24px; }
#             h2 { font-size: 18px; }
#             sidebar { float: right; width: 30%; }
#             #main { padding-right: 15px }
#             #infoWindow { width: 220px; }
            
#         </style>
#         <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=<%=ENV["GOOGLEMAPS"]%>"></script type="text/javascript">

#         var map;

#         var center = new google.maps.LatLng(46.842757, -71.280479)

#         function init() {
#             var mapoptions = {
#                 zoom: 4,
#                 center: center,
#             }
#         }

#         map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

#         infoWindow = new google.maps.InfoWindow({ content: sContent});

#         <% building.all.each do |building| %>

#             var weatherContent;
            
#             <% response = HTTParty.get('http://api.weatherapi.com/v1/current.json?=' + ENV["WEATHER_API"] + '%q=' + building.address.city) %>

#         <% b_ids = Battery.where(building_id: building.id).b_ids
#             c = Column.where(building_id: b_ids)
#             c_ids = Column.where(building_id: b_ids).ids
#             totalElevators = Elevator.where(column_id: c_ids).count

#         totalFloors = c.maximum(:number_of_floors_served) %>

#         var sContent =  '<h2>' +
#                         "<%= building.customer.full_name %>" + '</h2>' 

# <img src="https://i.ibb.co/QPffnV9/kombuchaahh.jpg">
# <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
# <div id="map" style="width: 500px; height: 400px;"></div>
# <div class="testing"></div>
# <script type="text/javascript">
#     locations = [];
#     floors = [];
#     names = [];
#     nb_batteries = [];
#     nb_columns = [];
#     nb_elevators = [];
#     tech_names = [];
#     <% Building.all.each do |building| %>
#         var f=0, x=0, y=0, z=0;
#         locations.push(<%= raw(building.address.to_json) %>);
#         names.push(<%= raw(building.customer.to_json) %>);
#         tech_names.push(<%= raw(building.to_json) %>)
#         x = x + <%= building.batteries.count %>;
#         <% building.batteries.all.each do |battery| %>
#             y = y + <%= battery.columns.count %>;
#             <% battery.columns.all.each do |column| %>
#                 f = f + <%= column.number_floors %>;
#                 z = z + <%= column.elevators.count %>;
#             <% end %>
#         <% end %>
#         floors.push(f);
#         nb_batteries.push(x);
#         nb_columns.push(y);
#         nb_elevators.push(z);
#     <% end %>
    
    
#     var map = new google.maps.Map(document.getElementById('map'), {
#         zoom: 4,
#         center: new google.maps.LatLng(44.99, -98.5),
#         mapTypeId: google.maps.MapTypeId.ROADMAP
#     });
#     var infowindow = new google.maps.InfoWindow();
#     var marker, i;
#     for (i = 0; i < locations.length; i++) {  
#         marker = new google.maps.Marker({
#         position: new google.maps.LatLng(locations[i].lat, locations[i].long),
#         map: map
#         });
#         google.maps.event.addListener(marker, 'click', (function(marker, i) {
#         return function() {
#             infowindow.setContent('<b>' + locations[i].number_n_street + '</b>' 
#             + '<br>' + names[i].company_name
#             + '<br> <br>' + 'floors: ' + floors[i]
#             + '<br>' + 'batteries: ' + nb_batteries[i]
#             + '<br>' + 'columns: ' + nb_columns[i]
#             + '<br>' + 'elevators: ' + nb_elevators[i]
#             + '<br>' + 'technical contact: ' + tech_names[i].tech_full_name);
#             infowindow.open(map, marker);
#         }
#         })(marker, i));
#     }
# </script>


